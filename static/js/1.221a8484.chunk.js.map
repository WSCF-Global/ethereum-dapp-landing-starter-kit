{"version":3,"sources":["../node_modules/async/map.js","../node_modules/async/internal/doParallel.js","../node_modules/async/eachOfLimit.js","../node_modules/async/internal/iterator.js","../node_modules/async/internal/getIterator.js","../node_modules/async/asyncify.js","../node_modules/async/internal/initialParams.js","../node_modules/async/internal/setImmediate.js","../node_modules/async/internal/map.js","../node_modules/async/eachSeries.js","../node_modules/async/eachLimit.js","../node_modules/async/internal/withoutIndex.js","../node_modules/web3-provider-engine/util/stoplight.js","../node_modules/web3-provider-engine/util/random-id.js","../node_modules/async/waterfall.js","../node_modules/async/parallel.js","../node_modules/async/internal/parallel.js","../node_modules/web3-provider-engine/util/estimate-gas.js","../node_modules/async/internal/wrapAsync.js","../node_modules/web3-provider-engine/subproviders/subprovider.js","../node_modules/async/internal/slice.js","../node_modules/web3-provider-engine/util/create-payload.js","../node_modules/async/internal/once.js","../node_modules/async/internal/onlyOnce.js","../node_modules/web3-provider-engine/subproviders/json-rpc-engine-middleware.js","../node_modules/web3-provider-engine/index.js","../node_modules/async/eachOf.js","../node_modules/async/internal/breakLoop.js","../node_modules/async/internal/eachOfLimit.js","../node_modules/async/internal/doLimit.js","../node_modules/web3-provider-engine/util/rpc-cache-utils.js","../node_modules/web3-provider-engine/subproviders/hooked-wallet.js","../node_modules/web3-provider-engine/subproviders/subscriptions.js","../node_modules/web3-provider-engine/subproviders/filters.js"],"names":["Object","defineProperty","exports","value","_doParallel2","_interopRequireDefault","require","_map2","obj","__esModule","default","module","fn","iteratee","callback","_eachOf2","_wrapAsync2","coll","limit","_eachOfLimit3","_isArrayLike2","i","len","length","key","createArrayIterator","iterator","_getIterator2","item","next","done","createES2015Iterator","okeys","_keys2","createObjectIterator","iteratorSymbol","Symbol","func","_initialParams2","args","result","apply","this","e","_isObject2","then","invokeCallback","err","message","Error","_setImmediate2","error","rethrow","_slice2","arguments","pop","call","_slice","hasNextTick","hasSetImmediate","undefined","fallback","wrap","_defer","setImmediate","process","nextTick","setTimeout","defer","eachfn","arr","_noop2","results","counter","_iteratee","_","index","v","_eachLimit2","_doLimit2","_eachOfLimit2","_withoutIndex2","EventEmitter","inherits","Stoplight","isLocked","prototype","go","emit","stop","await","once","Math","floor","Number","MAX_SAFE_INTEGER","random","tasks","_once2","_isArray2","taskIndex","nextTask","task","push","_onlyOnce2","_parallel2","createPayload","provider","txParams","cb","sendAsync","method","params","res","isAsync","_asyncify","_asyncify2","supportsSymbol","toStringTag","asyncFn","SubProvider","setEngine","engine","self","on","block","currentBlock","start","handleRequest","payload","end","emitPayload","arrayLike","newLen","max","newArr","Array","idx","getRandomId","extend","data","id","jsonrpc","callFn","JsonRpcEngineMiddlewareSubprovider","constructorFn","_constructorFn","middleware","blockTracker","_blockTracker","req","provEngNext","provEngEnd","handler","ethUtil","EthBlockTracker","map","eachSeries","Web3ProviderEngine","opts","setMaxListeners","directProvider","_handleAsync","bind","blockTrackerProvider","pollingInterval","setSkipCacheFlag","_ready","_providers","toBufferBlock","jsonBlock","number","toBuffer","hash","parentHash","nonce","mixHash","sha3Uncles","logsBloom","transactionsRoot","stateRoot","receiptsRoot","receiptRoot","miner","difficulty","totalDifficulty","size","extraData","gasLimit","gasUsed","timestamp","transactions","blockNumber","_getBlockByNumberWithRetry","console","log","bufferBlock","_setCurrentBlock","_running","removeAllListeners","isRunning","addProvider","source","splice","removeProvider","indexOf","send","isArray","retriesRemaining","attemptRequest","_getBlockByNumber","afterRequest","skipCache","finished","currentProvider","stack","_error","_result","resultObj","code","after","unshift","eachOfArrayLike","eachOfGeneric","_breakLoop2","completed","iteratorCallback","Infinity","nextElem","_iterator2","running","looping","iterateeCallback","replenish","elem","iterable","stringify","canCache","cacheTypeForPayload","paramsWithoutBlockTag","blockTagParamIndex","slice","cacheIdentifierForPayload","includeBlockRef","blockTagForPayload","waterfall","parallel","sigUtil","Semaphore","Subprovider","estimateGas","hexRegex","HookedWalletSubprovider","nonceLock","getAccounts","processTransaction","processMessage","processPersonalMessage","processTypedMessage","approveTransaction","autoApprove","approveMessage","approvePersonalMessage","approveDecryptMessage","approveEncryptionPublicKey","approveTypedMessage","signTransaction","mustProvideInConstructor","signMessage","signPersonalMessage","decryptMessage","encryptionPublicKey","signTypedMessage","recoverPersonalSignature","publishTransaction","getGasPrice","toLowerCase","string","resemblesAddress","fixed","addHexPrefix","isValidAddress","resemblesData","isValidHex","match","methodName","msgParams","extraParams","address","_parityRequests","_parityRequestCount","accounts","validateTransaction","processSignTransaction","from","validateMessage","first","warn","warning","validatePersonalMessage","validateDecryptMessage","processDecryptMessage","validateEncryptionPublicKey","processEncryptionPublicKey","signature","sig","second","validateTypedMessage","parityPostTransaction","parityPostSign","requestId","parityCheckRequest","account","didApprove","checkApproval","finalizeAndSubmitTx","finalizeTx","type","count","reqId","toString","txHash","senderHex","validateSender","senderIsValid","senderAddress","take","fillInTxExtras","leave","signedTx","raw","tx","rawTx","gasPrice","gas","to","cloneTxParams","taskResults","ProviderSubprovider","createSubscriptionManager","SubscriptionsSubprovider","events","createFilterMiddleware"],"mappings":"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","file":"static/js/1.221a8484.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _doParallel = require('./internal/doParallel');\n\nvar _doParallel2 = _interopRequireDefault(_doParallel);\n\nvar _map = require('./internal/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Produces a new collection of values by mapping each value in `coll` through\n * the `iteratee` function. The `iteratee` is called with an item from `coll`\n * and a callback for when it has finished processing. Each of these callback\n * takes 2 arguments: an `error`, and the transformed item from `coll`. If\n * `iteratee` passes an error to its callback, the main `callback` (for the\n * `map` function) is immediately called with the error.\n *\n * Note, that since this function applies the `iteratee` to each item in\n * parallel, there is no guarantee that the `iteratee` functions will complete\n * in order. However, the results array will be in the same order as the\n * original `coll`.\n *\n * If `map` is passed an Object, the results will be an Array.  The results\n * will roughly be in the order of the original Objects' keys (but this can\n * vary across JavaScript engines).\n *\n * @name map\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an Array of the\n * transformed items from the `coll`. Invoked with (err, results).\n * @example\n *\n * async.map(['file1','file2','file3'], fs.stat, function(err, results) {\n *     // results is now an array of stats for each file\n * });\n */\nexports.default = (0, _doParallel2.default)(_map2.default);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = doParallel;\n\nvar _eachOf = require('../eachOf');\n\nvar _eachOf2 = _interopRequireDefault(_eachOf);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction doParallel(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(_eachOf2.default, obj, (0, _wrapAsync2.default)(iteratee), callback);\n    };\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = eachOfLimit;\n\nvar _eachOfLimit2 = require('./internal/eachOfLimit');\n\nvar _eachOfLimit3 = _interopRequireDefault(_eachOfLimit2);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name eachOfLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`. The `key` is the item's key, or index in the case of an\n * array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachOfLimit(coll, limit, iteratee, callback) {\n  (0, _eachOfLimit3.default)(limit)(coll, (0, _wrapAsync2.default)(iteratee), callback);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = iterator;\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _getIterator = require('./getIterator');\n\nvar _getIterator2 = _interopRequireDefault(_getIterator);\n\nvar _keys = require('lodash/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createArrayIterator(coll) {\n    var i = -1;\n    var len = coll.length;\n    return function next() {\n        return ++i < len ? { value: coll[i], key: i } : null;\n    };\n}\n\nfunction createES2015Iterator(iterator) {\n    var i = -1;\n    return function next() {\n        var item = iterator.next();\n        if (item.done) return null;\n        i++;\n        return { value: item.value, key: i };\n    };\n}\n\nfunction createObjectIterator(obj) {\n    var okeys = (0, _keys2.default)(obj);\n    var i = -1;\n    var len = okeys.length;\n    return function next() {\n        var key = okeys[++i];\n        return i < len ? { value: obj[key], key: key } : null;\n    };\n}\n\nfunction iterator(coll) {\n    if ((0, _isArrayLike2.default)(coll)) {\n        return createArrayIterator(coll);\n    }\n\n    var iterator = (0, _getIterator2.default)(coll);\n    return iterator ? createES2015Iterator(iterator) : createObjectIterator(coll);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (coll) {\n    return iteratorSymbol && coll[iteratorSymbol] && coll[iteratorSymbol]();\n};\n\nvar iteratorSymbol = typeof Symbol === 'function' && Symbol.iterator;\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = asyncify;\n\nvar _isObject = require('lodash/isObject');\n\nvar _isObject2 = _interopRequireDefault(_isObject);\n\nvar _initialParams = require('./internal/initialParams');\n\nvar _initialParams2 = _interopRequireDefault(_initialParams);\n\nvar _setImmediate = require('./internal/setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous function, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    return (0, _initialParams2.default)(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if ((0, _isObject2.default)(result) && typeof result.then === 'function') {\n            result.then(function (value) {\n                invokeCallback(callback, null, value);\n            }, function (err) {\n                invokeCallback(callback, err.message ? err : new Error(err));\n            });\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nfunction invokeCallback(callback, error, value) {\n    try {\n        callback(error, value);\n    } catch (e) {\n        (0, _setImmediate2.default)(rethrow, e);\n    }\n}\n\nfunction rethrow(error) {\n    throw error;\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (fn) {\n    return function () /*...args, callback*/{\n        var args = (0, _slice2.default)(arguments);\n        var callback = args.pop();\n        fn.call(this, args, callback);\n    };\n};\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.hasNextTick = exports.hasSetImmediate = undefined;\nexports.fallback = fallback;\nexports.wrap = wrap;\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hasSetImmediate = exports.hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = exports.hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return function (fn /*, ...args*/) {\n        var args = (0, _slice2.default)(arguments, 1);\n        defer(function () {\n            fn.apply(null, args);\n        });\n    };\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nexports.default = wrap(_defer);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _asyncMap;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncMap(eachfn, arr, iteratee, callback) {\n    callback = callback || _noop2.default;\n    arr = arr || [];\n    var results = [];\n    var counter = 0;\n    var _iteratee = (0, _wrapAsync2.default)(iteratee);\n\n    eachfn(arr, function (value, _, callback) {\n        var index = counter++;\n        _iteratee(value, function (err, v) {\n            results[index] = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eachLimit = require('./eachLimit');\n\nvar _eachLimit2 = _interopRequireDefault(_eachLimit);\n\nvar _doLimit = require('./internal/doLimit');\n\nvar _doLimit2 = _interopRequireDefault(_doLimit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs only a single async operation at a time.\n *\n * @name eachSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfSeries`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nexports.default = (0, _doLimit2.default)(_eachLimit2.default, 1);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = eachLimit;\n\nvar _eachOfLimit = require('./internal/eachOfLimit');\n\nvar _eachOfLimit2 = _interopRequireDefault(_eachOfLimit);\n\nvar _withoutIndex = require('./internal/withoutIndex');\n\nvar _withoutIndex2 = _interopRequireDefault(_withoutIndex);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs a maximum of `limit` async operations at a time.\n *\n * @name eachLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfLimit`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachLimit(coll, limit, iteratee, callback) {\n  (0, _eachOfLimit2.default)(limit)(coll, (0, _withoutIndex2.default)((0, _wrapAsync2.default)(iteratee)), callback);\n}\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _withoutIndex;\nfunction _withoutIndex(iteratee) {\n    return function (value, index, callback) {\n        return iteratee(value, callback);\n    };\n}\nmodule.exports = exports[\"default\"];","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\n\nmodule.exports = Stoplight\n\n\ninherits(Stoplight, EventEmitter)\n\nfunction Stoplight(){\n  const self = this\n  EventEmitter.call(self)\n  self.isLocked = true\n}\n\nStoplight.prototype.go = function(){\n  const self = this\n  self.isLocked = false\n  self.emit('unlock')\n}\n\nStoplight.prototype.stop = function(){\n  const self = this\n  self.isLocked = true\n  self.emit('lock')\n}\n\nStoplight.prototype.await = function(fn){\n  const self = this\n  if (self.isLocked) {\n    self.once('unlock', fn)\n  } else {\n    setTimeout(fn)\n  }\n}","module.exports = createRandomId\n\n\nfunction createRandomId () {\n  // random id\n  return Math.floor(Number.MAX_SAFE_INTEGER * Math.random())\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (tasks, callback) {\n    callback = (0, _once2.default)(callback || _noop2.default);\n    if (!(0, _isArray2.default)(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        var task = (0, _wrapAsync2.default)(tasks[taskIndex++]);\n        args.push((0, _onlyOnce2.default)(next));\n        task.apply(null, args);\n    }\n\n    function next(err /*, ...args*/) {\n        if (err || taskIndex === tasks.length) {\n            return callback.apply(null, arguments);\n        }\n        nextTask((0, _slice2.default)(arguments, 1));\n    }\n\n    nextTask([]);\n};\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./internal/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _slice = require('./internal/slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parallelLimit;\n\nvar _eachOf = require('./eachOf');\n\nvar _eachOf2 = _interopRequireDefault(_eachOf);\n\nvar _parallel = require('./internal/parallel');\n\nvar _parallel2 = _interopRequireDefault(_parallel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Run the `tasks` collection of functions in parallel, without waiting until\n * the previous function has completed. If any of the functions pass an error to\n * its callback, the main `callback` is immediately called with the value of the\n * error. Once the `tasks` have completed, the results are passed to the final\n * `callback` as an array.\n *\n * **Note:** `parallel` is about kicking-off I/O tasks in parallel, not about\n * parallel execution of code.  If your tasks do not use any timers or perform\n * any I/O, they will actually be executed in series.  Any synchronous setup\n * sections for each task will happen one after the other.  JavaScript remains\n * single-threaded.\n *\n * **Hint:** Use [`reflect`]{@link module:Utils.reflect} to continue the\n * execution of other tasks when a task fails.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n * results from {@link async.parallel}.\n *\n * @name parallel\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n *\n * @example\n * async.parallel([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // the results array will equal ['one','two'] even though\n *     // the second function had a shorter timeout.\n * });\n *\n * // an example using an object instead of an array\n * async.parallel({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equals to: {one: 1, two: 2}\n * });\n */\nfunction parallelLimit(tasks, callback) {\n  (0, _parallel2.default)(_eachOf2.default, tasks, callback);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _parallel;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _parallel(eachfn, tasks, callback) {\n    callback = callback || _noop2.default;\n    var results = (0, _isArrayLike2.default)(tasks) ? [] : {};\n\n    eachfn(tasks, function (task, key, callback) {\n        (0, _wrapAsync2.default)(task)(function (err, result) {\n            if (arguments.length > 2) {\n                result = (0, _slice2.default)(arguments, 1);\n            }\n            results[key] = result;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\nmodule.exports = exports['default'];","const createPayload = require('./create-payload.js')\n\nmodule.exports = estimateGas\n\n/*\n\nThis is a work around for https://github.com/ethereum/go-ethereum/issues/2577\n\n*/\n\n\nfunction estimateGas(provider, txParams, cb) {\n  provider.sendAsync(createPayload({\n    method: 'eth_estimateGas',\n    params: [txParams]\n  }), function(err, res){\n    if (err) {\n      // handle simple value transfer case\n      if (err.message === 'no contract code at given address') {\n        return cb(null, '0xcf08')\n      } else {\n        return cb(err)        \n      }\n    }\n    cb(null, res.result)\n  })\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isAsync = undefined;\n\nvar _asyncify = require('../asyncify');\n\nvar _asyncify2 = _interopRequireDefault(_asyncify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar supportsSymbol = typeof Symbol === 'function';\n\nfunction isAsync(fn) {\n    return supportsSymbol && fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction wrapAsync(asyncFn) {\n    return isAsync(asyncFn) ? (0, _asyncify2.default)(asyncFn) : asyncFn;\n}\n\nexports.default = wrapAsync;\nexports.isAsync = isAsync;","const createPayload = require('../util/create-payload.js')\n\nmodule.exports = SubProvider\n\n// this is the base class for a subprovider -- mostly helpers\n\n\nfunction SubProvider() {\n\n}\n\nSubProvider.prototype.setEngine = function(engine) {\n  const self = this\n  if (self.engine) return\n  self.engine = engine\n  engine.on('block', function(block) {\n    self.currentBlock = block\n  })\n\n  engine.on('start', function () {\n    self.start()\n  })\n\n  engine.on('stop', function () {\n    self.stop()\n  })\n}\n\nSubProvider.prototype.handleRequest = function(payload, next, end) {\n  throw new Error('Subproviders should override `handleRequest`.')\n}\n\nSubProvider.prototype.emitPayload = function(payload, cb){\n  const self = this\n  self.engine.sendAsync(createPayload(payload), cb)\n}\n\n// dummies for overriding\n\nSubProvider.prototype.stop = function () {}\n\nSubProvider.prototype.start = function () {}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = slice;\nfunction slice(arrayLike, start) {\n    start = start | 0;\n    var newLen = Math.max(arrayLike.length - start, 0);\n    var newArr = Array(newLen);\n    for (var idx = 0; idx < newLen; idx++) {\n        newArr[idx] = arrayLike[start + idx];\n    }\n    return newArr;\n}\nmodule.exports = exports[\"default\"];","const getRandomId = require('./random-id.js')\nconst extend = require('xtend')\n\nmodule.exports = createPayload\n\n\nfunction createPayload(data){\n  return extend({\n    // defaults\n    id: getRandomId(),\n    jsonrpc: '2.0',\n    params: [],\n    // user-specified\n  }, data)\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = once;\nfunction once(fn) {\n    return function () {\n        if (fn === null) return;\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = onlyOnce;\nfunction onlyOnce(fn) {\n    return function () {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\nmodule.exports = exports[\"default\"];","const Subprovider = require('./subprovider.js')\n\n// wraps a json-rpc-engine middleware in a subprovider interface\n\nclass JsonRpcEngineMiddlewareSubprovider extends Subprovider {\n\n  // take a constructorFn to call once we have a reference to the engine\n  constructor (constructorFn) {\n    super()\n    if (!constructorFn) throw new Error('JsonRpcEngineMiddlewareSubprovider - no constructorFn specified')\n    this._constructorFn = constructorFn\n  }\n\n  // this is called once the subprovider has been added to the provider engine\n  setEngine (engine) {\n    if (this.middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice')\n    const blockTracker = engine._blockTracker\n    const middleware = this._constructorFn({ engine, provider: engine, blockTracker })\n    if (!middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware')\n    if (typeof middleware !== 'function') throw new Error('JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function')\n    this.middleware = middleware\n  }\n\n  handleRequest (req, provEngNext, provEngEnd) {\n    const res = { id: req.id }\n    this.middleware(req, res, middlewareNext, middlewareEnd)\n\n    function middlewareNext (handler) {\n      provEngNext((err, result, cb) => {\n        // update response object with result or error\n        if (err) {\n          delete res.result\n          res.error = { message: err.message || err }\n        } else {\n          res.result = result\n        }\n        // call middleware's next handler (even if error)\n        if (handler) {\n          handler(cb)\n        } else {\n          cb()\n        }\n      })\n    }\n\n    function middlewareEnd (err) {\n      if (err) return provEngEnd(err)\n      provEngEnd(null, res.result)\n    }\n  }\n\n}\n\nmodule.exports = JsonRpcEngineMiddlewareSubprovider\n","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst EthBlockTracker = require('eth-block-tracker')\nconst map = require('async/map')\nconst eachSeries = require('async/eachSeries')\nconst Stoplight = require('./util/stoplight.js')\nconst cacheUtils = require('./util/rpc-cache-utils.js')\nconst createPayload = require('./util/create-payload.js')\nconst noop = function(){}\n\nmodule.exports = Web3ProviderEngine\n\n\ninherits(Web3ProviderEngine, EventEmitter)\n\nfunction Web3ProviderEngine(opts) {\n  const self = this\n  EventEmitter.call(self)\n  self.setMaxListeners(30)\n  // parse options\n  opts = opts || {}\n\n  // block polling\n  const directProvider = { sendAsync: self._handleAsync.bind(self) }\n  const blockTrackerProvider = opts.blockTrackerProvider || directProvider\n  self._blockTracker = opts.blockTracker || new EthBlockTracker({\n    provider: blockTrackerProvider,\n    pollingInterval: opts.pollingInterval || 4000,\n    setSkipCacheFlag: true,\n  })\n\n  // set initialization blocker\n  self._ready = new Stoplight()\n\n  // local state\n  self.currentBlock = null\n  self._providers = []\n}\n\n// public\n\nWeb3ProviderEngine.prototype.start = function(cb = noop){\n  const self = this\n\n  // trigger start\n  self._ready.go()\n\n  // on new block, request block body and emit as events\n  self._blockTracker.on('latest', (blockNumber) => {\n    // get block body\n    self._getBlockByNumberWithRetry(blockNumber, (err, block) => {\n      if (err) {\n        this.emit('error', err)\n        return\n      }\n      if (!block) {\n        console.log(block)\n        this.emit('error', new Error(\"Could not find block\"))\n        return\n      }\n      const bufferBlock = toBufferBlock(block)\n      // set current + emit \"block\" event\n      self._setCurrentBlock(bufferBlock)\n      // emit other events\n      self.emit('rawBlock', block)\n      self.emit('latest', block)\n    })\n  })\n\n  // forward other events\n  self._blockTracker.on('sync', self.emit.bind(self, 'sync'))\n  self._blockTracker.on('error', self.emit.bind(self, 'error'))\n\n  // update state\n  self._running = true\n  // signal that we started\n  self.emit('start')\n}\n\nWeb3ProviderEngine.prototype.stop = function(){\n  const self = this\n  // stop block polling by removing event listeners\n  self._blockTracker.removeAllListeners()\n  // update state\n  self._running = false\n  // signal that we stopped\n  self.emit('stop')\n}\n\nWeb3ProviderEngine.prototype.isRunning = function(){\n  const self = this\n  return self._running\n}\n\nWeb3ProviderEngine.prototype.addProvider = function(source, index){\n  const self = this\n  if (typeof index === 'number') {\n    self._providers.splice(index, 0, source)\n  } else {\n    self._providers.push(source)\n  }\n  source.setEngine(this)\n}\n\nWeb3ProviderEngine.prototype.removeProvider = function(source){\n  const self = this\n  const index = self._providers.indexOf(source)\n  if (index < 0) throw new Error('Provider not found.')\n  self._providers.splice(index, 1)\n}\n\nWeb3ProviderEngine.prototype.send = function(payload){\n  throw new Error('Web3ProviderEngine does not support synchronous requests.')\n}\n\nWeb3ProviderEngine.prototype.sendAsync = function(payload, cb){\n  const self = this\n  self._ready.await(function(){\n\n    if (Array.isArray(payload)) {\n      // handle batch\n      map(payload, self._handleAsync.bind(self), cb)\n    } else {\n      // handle single\n      self._handleAsync(payload, cb)\n    }\n\n  })\n}\n\n// private\n\nWeb3ProviderEngine.prototype._getBlockByNumberWithRetry = function(blockNumber, cb) {\n  const self = this\n\n  let retriesRemaining = 5\n\n  attemptRequest()\n  return\n\n  function attemptRequest () {\n    self._getBlockByNumber(blockNumber, afterRequest)\n  }\n\n  function afterRequest (err, block) {\n    // anomalous error occurred\n    if (err) return cb(err)\n    // block not ready yet\n    if (!block) {\n      if (retriesRemaining > 0) {\n        // wait 1s then try again\n        retriesRemaining--\n        setTimeout(function () {\n          attemptRequest()\n        }, 1000)\n        return\n      } else {\n        // give up, return a null block\n        cb(null, null)\n        return\n      }\n    }\n    // otherwise return result\n    cb(null, block)\n    return\n  }\n}\n\n\nWeb3ProviderEngine.prototype._getBlockByNumber = function(blockNumber, cb) {\n  const req = createPayload({ method: 'eth_getBlockByNumber', params: [blockNumber, false], skipCache: true })\n  this._handleAsync(req, (err, res) => {\n    if (err) return cb(err)\n    return cb(null, res.result)\n  })\n}\n\nWeb3ProviderEngine.prototype._handleAsync = function(payload, finished) {\n  var self = this\n  var currentProvider = -1\n  var result = null\n  var error = null\n\n  var stack = []\n\n  next()\n\n  function next(after) {\n    currentProvider += 1\n    stack.unshift(after)\n\n    // Bubbled down as far as we could go, and the request wasn't\n    // handled. Return an error.\n    if (currentProvider >= self._providers.length) {\n      end(new Error('Request for method \"' + payload.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'))\n    } else {\n      try {\n        var provider = self._providers[currentProvider]\n        provider.handleRequest(payload, next, end)\n      } catch (e) {\n        end(e)\n      }\n    }\n  }\n\n  function end(_error, _result) {\n    error = _error\n    result = _result\n\n    eachSeries(stack, function(fn, callback) {\n\n      if (fn) {\n        fn(error, result, callback)\n      } else {\n        callback()\n      }\n    }, function() {\n\n      var resultObj = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      }\n\n      if (error != null) {\n        resultObj.error = {\n          message: error.stack || error.message || error,\n          code: -32000\n        }\n        // respond with both error formats\n        finished(error, resultObj)\n      } else {\n        finished(null, resultObj)\n      }\n    })\n  }\n}\n\n//\n// from remote-data\n//\n\nWeb3ProviderEngine.prototype._setCurrentBlock = function(block){\n  const self = this\n  self.currentBlock = block\n  self.emit('block', block)\n}\n\n// util\n\nfunction toBufferBlock (jsonBlock) {\n  return {\n    number:           ethUtil.toBuffer(jsonBlock.number),\n    hash:             ethUtil.toBuffer(jsonBlock.hash),\n    parentHash:       ethUtil.toBuffer(jsonBlock.parentHash),\n    nonce:            ethUtil.toBuffer(jsonBlock.nonce),\n    mixHash:          ethUtil.toBuffer(jsonBlock.mixHash),\n    sha3Uncles:       ethUtil.toBuffer(jsonBlock.sha3Uncles),\n    logsBloom:        ethUtil.toBuffer(jsonBlock.logsBloom),\n    transactionsRoot: ethUtil.toBuffer(jsonBlock.transactionsRoot),\n    stateRoot:        ethUtil.toBuffer(jsonBlock.stateRoot),\n    receiptsRoot:     ethUtil.toBuffer(jsonBlock.receiptRoot || jsonBlock.receiptsRoot),\n    miner:            ethUtil.toBuffer(jsonBlock.miner),\n    difficulty:       ethUtil.toBuffer(jsonBlock.difficulty),\n    totalDifficulty:  ethUtil.toBuffer(jsonBlock.totalDifficulty),\n    size:             ethUtil.toBuffer(jsonBlock.size),\n    extraData:        ethUtil.toBuffer(jsonBlock.extraData),\n    gasLimit:         ethUtil.toBuffer(jsonBlock.gasLimit),\n    gasUsed:          ethUtil.toBuffer(jsonBlock.gasUsed),\n    timestamp:        ethUtil.toBuffer(jsonBlock.timestamp),\n    transactions:     jsonBlock.transactions,\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (coll, iteratee, callback) {\n    var eachOfImplementation = (0, _isArrayLike2.default)(coll) ? eachOfArrayLike : eachOfGeneric;\n    eachOfImplementation(coll, (0, _wrapAsync2.default)(iteratee), callback);\n};\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _breakLoop = require('./internal/breakLoop');\n\nvar _breakLoop2 = _interopRequireDefault(_breakLoop);\n\nvar _eachOfLimit = require('./eachOfLimit');\n\nvar _eachOfLimit2 = _interopRequireDefault(_eachOfLimit);\n\nvar _doLimit = require('./internal/doLimit');\n\nvar _doLimit2 = _interopRequireDefault(_doLimit);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./internal/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// eachOf implementation optimized for array-likes\nfunction eachOfArrayLike(coll, iteratee, callback) {\n    callback = (0, _once2.default)(callback || _noop2.default);\n    var index = 0,\n        completed = 0,\n        length = coll.length;\n    if (length === 0) {\n        callback(null);\n    }\n\n    function iteratorCallback(err, value) {\n        if (err) {\n            callback(err);\n        } else if (++completed === length || value === _breakLoop2.default) {\n            callback(null);\n        }\n    }\n\n    for (; index < length; index++) {\n        iteratee(coll[index], index, (0, _onlyOnce2.default)(iteratorCallback));\n    }\n}\n\n// a generic version of eachOf which can handle array, object, and iterator cases.\nvar eachOfGeneric = (0, _doLimit2.default)(_eachOfLimit2.default, Infinity);\n\n/**\n * Like [`each`]{@link module:Collections.each}, except that it passes the key (or index) as the second argument\n * to the iteratee.\n *\n * @name eachOf\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEachOf\n * @category Collection\n * @see [async.each]{@link module:Collections.each}\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each\n * item in `coll`.\n * The `key` is the item's key, or index in the case of an array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * var obj = {dev: \"/dev.json\", test: \"/test.json\", prod: \"/prod.json\"};\n * var configs = {};\n *\n * async.forEachOf(obj, function (value, key, callback) {\n *     fs.readFile(__dirname + value, \"utf8\", function (err, data) {\n *         if (err) return callback(err);\n *         try {\n *             configs[key] = JSON.parse(data);\n *         } catch (e) {\n *             return callback(e);\n *         }\n *         callback();\n *     });\n * }, function (err) {\n *     if (err) console.error(err.message);\n *     // configs is now a map of JSON data\n *     doSomethingWith(configs);\n * });\n */\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// A temporary value used to identify if the loop should be broken.\n// See #1064, #1293\nexports.default = {};\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _eachOfLimit;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _iterator = require('./iterator');\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _onlyOnce = require('./onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _breakLoop = require('./breakLoop');\n\nvar _breakLoop2 = _interopRequireDefault(_breakLoop);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _eachOfLimit(limit) {\n    return function (obj, iteratee, callback) {\n        callback = (0, _once2.default)(callback || _noop2.default);\n        if (limit <= 0 || !obj) {\n            return callback(null);\n        }\n        var nextElem = (0, _iterator2.default)(obj);\n        var done = false;\n        var running = 0;\n        var looping = false;\n\n        function iterateeCallback(err, value) {\n            running -= 1;\n            if (err) {\n                done = true;\n                callback(err);\n            } else if (value === _breakLoop2.default || done && running <= 0) {\n                done = true;\n                return callback(null);\n            } else if (!looping) {\n                replenish();\n            }\n        }\n\n        function replenish() {\n            looping = true;\n            while (running < limit && !done) {\n                var elem = nextElem();\n                if (elem === null) {\n                    done = true;\n                    if (running <= 0) {\n                        callback(null);\n                    }\n                    return;\n                }\n                running += 1;\n                iteratee(elem.value, elem.key, (0, _onlyOnce2.default)(iterateeCallback));\n            }\n            looping = false;\n        }\n\n        replenish();\n    };\n}\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = doLimit;\nfunction doLimit(fn, limit) {\n    return function (iterable, iteratee, callback) {\n        return fn(iterable, limit, iteratee, callback);\n    };\n}\nmodule.exports = exports[\"default\"];","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload,\n}\n\nfunction cacheIdentifierForPayload(payload, opts = {}){\n  if (!canCache(payload)) return null\n  const { includeBlockRef } = opts\n  const params = includeBlockRef ? payload.params : paramsWithoutBlockTag(payload)\n  return payload.method + ':' + stringify(params)\n}\n\nfunction canCache(payload){\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1);\n  }\n\n  return payload.params.slice(0,index);\n}\n\nfunction blockTagParamIndex(payload){\n  switch(payload.method) {\n    // blockTag is third param\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1\n    // blockTag is first param\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'eth_blockNumber':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never'\n  }\n}\n","/*\n * Emulate 'eth_accounts' / 'eth_sendTransaction' using 'eth_sendRawTransaction'\n *\n * The two callbacks a user needs to implement are:\n * - getAccounts() -- array of addresses supported\n * - signTransaction(tx) -- sign a raw transaction object\n */\n\nconst waterfall = require('async/waterfall')\nconst parallel = require('async/parallel')\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst sigUtil = require('eth-sig-util')\nconst extend = require('xtend')\nconst Semaphore = require('semaphore')\nconst Subprovider = require('./subprovider.js')\nconst estimateGas = require('../util/estimate-gas.js')\nconst hexRegex = /^[0-9A-Fa-f]+$/g\n\nmodule.exports = HookedWalletSubprovider\n\n// handles the following RPC methods:\n//   eth_coinbase\n//   eth_accounts\n//   eth_sendTransaction\n//   eth_sign\n//   eth_signTypedData\n//   eth_signTypedData_v3\n//   eth_signTypedData_v4\n//   personal_sign\n//   eth_decryptMessage\n//   encryption_public_key\n//   personal_ecRecover\n//   parity_postTransaction\n//   parity_checkRequest\n//   parity_defaultAccount\n\n//\n// Tx Signature Flow\n//\n// handleRequest: eth_sendTransaction\n//   validateTransaction (basic validity check)\n//     validateSender (checks that sender is in accounts)\n//   processTransaction (sign tx and submit to network)\n//     approveTransaction (UI approval hook)\n//     checkApproval\n//     finalizeAndSubmitTx (tx signing)\n//       nonceLock.take (bottle neck to ensure atomic nonce)\n//         fillInTxExtras (set fallback gasPrice, nonce, etc)\n//         signTransaction (perform the signature)\n//         publishTransaction (publish signed tx to network)\n//\n\n\ninherits(HookedWalletSubprovider, Subprovider)\n\nfunction HookedWalletSubprovider(opts){\n  const self = this\n  // control flow\n  self.nonceLock = Semaphore(1)\n\n  // data lookup\n  if (opts.getAccounts) self.getAccounts = opts.getAccounts\n  // high level override\n  if (opts.processTransaction) self.processTransaction = opts.processTransaction\n  if (opts.processMessage) self.processMessage = opts.processMessage\n  if (opts.processPersonalMessage) self.processPersonalMessage = opts.processPersonalMessage\n  if (opts.processTypedMessage) self.processTypedMessage = opts.processTypedMessage\n  // approval hooks\n  self.approveTransaction = opts.approveTransaction || self.autoApprove\n  self.approveMessage = opts.approveMessage || self.autoApprove\n  self.approvePersonalMessage = opts.approvePersonalMessage || self.autoApprove\n  self.approveDecryptMessage = opts.approveDecryptMessage || self.autoApprove\n  self.approveEncryptionPublicKey = opts.approveEncryptionPublicKey || self.autoApprove\n  self.approveTypedMessage = opts.approveTypedMessage || self.autoApprove\n  // actually perform the signature\n  if (opts.signTransaction) self.signTransaction = opts.signTransaction  || mustProvideInConstructor('signTransaction')\n  if (opts.signMessage) self.signMessage = opts.signMessage  || mustProvideInConstructor('signMessage')\n  if (opts.signPersonalMessage) self.signPersonalMessage = opts.signPersonalMessage  || mustProvideInConstructor('signPersonalMessage')\n  if (opts.decryptMessage) self.decryptMessage = opts.decryptMessage  || mustProvideInConstructor('decryptMessage')\n  if (opts.encryptionPublicKey) self.encryptionPublicKey = opts.encryptionPublicKey  || mustProvideInConstructor('encryptionPublicKey')\n  if (opts.signTypedMessage) self.signTypedMessage = opts.signTypedMessage  || mustProvideInConstructor('signTypedMessage')\n  if (opts.recoverPersonalSignature) self.recoverPersonalSignature = opts.recoverPersonalSignature\n  // publish to network\n  if (opts.publishTransaction) self.publishTransaction = opts.publishTransaction\n  // gas options\n  self.estimateGas = opts.estimateGas || self.estimateGas\n  self.getGasPrice = opts.getGasPrice || self.getGasPrice\n}\n\nHookedWalletSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  self._parityRequests = {}\n  self._parityRequestCount = 0\n\n  // switch statement is not block scoped\n  // sp we cant repeat var declarations\n  let txParams, msgParams, extraParams\n  let message, address\n\n  switch(payload.method) {\n\n    case 'eth_coinbase':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        let result = accounts[0] || null\n        end(null, result)\n      })\n      return\n\n    case 'eth_accounts':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        end(null, accounts)\n      })\n      return\n\n    case 'eth_sendTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processSignTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_sign':\n      // process normally\n      address = payload.params[0]\n      message = payload.params[1]\n      // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n      // good place for metadata\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateMessage(msgParams, cb),\n        (cb) => self.processMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'personal_sign':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_personalSign method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validatePersonalMessage(msgParams, cb),\n          (cb) => self.processPersonalMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'eth_decryptMessage':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_decryptMessage method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validateDecryptMessage(msgParams, cb),\n          (cb) => self.processDecryptMessage(msgParams, cb),\n        ], end)\n      })()\n      \n    case 'encryption_public_key':\n      return (function(){\n        const address = payload.params[0]\n        \n        waterfall([\n          (cb) => self.validateEncryptionPublicKey(address, cb),\n          (cb) => self.processEncryptionPublicKey(address, cb),\n        ], end)\n      })()\n      \n    case 'personal_ecRecover':\n      return (function(){    \n        message = payload.params[0]\n        let signature = payload.params[1]\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          sig: signature,\n          data: message,\n        })\n        self.recoverPersonalSignature(msgParams, end)\n      })()\n\n    case 'eth_signTypedData':\n    case 'eth_signTypedData_v3':\n    case 'eth_signTypedData_v4':\n      return (function(){ \n        // process normally\n      \n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        if (resemblesAddress(first)) {\n          address = first\n          message = second\n        } else {\n          message = first\n          address = second\n        }\n\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validateTypedMessage(msgParams, cb),\n          (cb) => self.processTypedMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'parity_postTransaction':\n      txParams = payload.params[0]\n      self.parityPostTransaction(txParams, end)\n      return\n\n    case 'parity_postSign':\n      address = payload.params[0]\n      message = payload.params[1]\n      self.parityPostSign(address, message, end)\n      return\n\n    case 'parity_checkRequest':\n      return (function(){\n        const requestId = payload.params[0]\n        self.parityCheckRequest(requestId, end)\n      })()\n\n    case 'parity_defaultAccount':\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        const account = accounts[0] || null\n        end(null, account)\n      })\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n\n//\n// data lookup\n//\n\nHookedWalletSubprovider.prototype.getAccounts = function(cb) {\n  cb(null, [])\n}\n\n\n//\n// \"process\" high level flow\n//\n\nHookedWalletSubprovider.prototype.processTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeAndSubmitTx(txParams, cb),\n  ], cb)\n}\n\n\nHookedWalletSubprovider.prototype.processSignTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeTx(txParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processPersonalMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approvePersonalMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signPersonalMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processDecryptMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveDecryptMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('decryptMessage', didApprove, cb),\n    (cb) => self.decryptMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processEncryptionPublicKey = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveEncryptionPublicKey(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('encryptionPublicKey', didApprove, cb),\n    (cb) => self.encryptionPublicKey(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessage(msgParams, cb),\n  ], cb)\n}\n\n//\n// approval\n//\n\nHookedWalletSubprovider.prototype.autoApprove = function(txParams, cb) {\n  cb(null, true)\n}\n\nHookedWalletSubprovider.prototype.checkApproval = function(type, didApprove, cb) {\n  cb( didApprove ? null : new Error('User denied '+type+' signature.') )\n}\n\n//\n// parity\n//\n\nHookedWalletSubprovider.prototype.parityPostTransaction = function(txParams, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sendTransaction',\n    params: [txParams],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const txHash = res.result\n    self._parityRequests[reqId] = txHash\n  })\n\n  cb(null, reqId)\n}\n\n\nHookedWalletSubprovider.prototype.parityPostSign = function(address, message, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sign',\n    params: [address, message],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const result = res.result\n    self._parityRequests[reqId] = result\n  })\n\n  cb(null, reqId)\n}\n\nHookedWalletSubprovider.prototype.parityCheckRequest = function(reqId, cb) {\n  const self = this\n  const result = self._parityRequests[reqId] || null\n  // tx not handled yet\n  if (!result) return cb(null, null)\n  // tx was rejected (or other error)\n  if (result.error) return cb(result.error)\n  // tx sent\n  cb(null, result)\n}\n\n//\n// signature and recovery\n//\n\nHookedWalletSubprovider.prototype.recoverPersonalSignature = function(msgParams, cb) {\n  let senderHex\n  try {\n    senderHex = sigUtil.recoverPersonalSignature(msgParams)\n  } catch (err) {\n    return cb(err)\n  }\n  cb(null, senderHex)\n}\n\n//\n// validation\n//\n\nHookedWalletSubprovider.prototype.validateTransaction = function(txParams, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (txParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign transaction.`))\n  self.validateSender(txParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign transaction for this address: \"${txParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign message.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validatePersonalMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign personal message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to sign personal message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateDecryptMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to decrypt message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to decrypt message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to decrypt message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateEncryptionPublicKey = function(address, cb){\n  const self = this\n\n  self.validateSender(address, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to obtain encryption public key for this address: \"${address}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessage = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateSender = function(senderAddress, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (!senderAddress) return cb(null, false)\n  self.getAccounts(function(err, accounts){\n    if (err) return cb(err)\n    const senderIsValid = (accounts.map(toLowerCase).indexOf(senderAddress.toLowerCase()) !== -1)\n    cb(null, senderIsValid)\n  })\n}\n\n//\n// tx helpers\n//\n\nHookedWalletSubprovider.prototype.finalizeAndSubmitTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n      self.publishTransaction.bind(self),\n    ], function(err, txHash){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, txHash)\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.finalizeTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n    ], function(err, signedTx){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, {raw: signedTx, tx: txParams})\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.publishTransaction = function(rawTx, cb) {\n  const self = this\n  self.emitPayload({\n    method: 'eth_sendRawTransaction',\n    params: [rawTx],\n  }, function(err, res){\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.estimateGas = function(txParams, cb) {\n  const self = this\n  estimateGas(self.engine, txParams, cb)\n}\n\nHookedWalletSubprovider.prototype.getGasPrice = function(cb) {\n  const self = this\n  self.emitPayload({ method: 'eth_gasPrice', params: [] }, function (err, res) {\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.fillInTxExtras = function(txParams, cb){\n  const self = this\n  const address = txParams.from\n  // console.log('fillInTxExtras - address:', address)\n\n  const tasks = {}\n\n  if (txParams.gasPrice === undefined) {\n    // console.log(\"need to get gasprice\")\n    tasks.gasPrice = self.getGasPrice.bind(self)\n  }\n\n  if (txParams.nonce === undefined) {\n    // console.log(\"need to get nonce\")\n    tasks.nonce = self.emitPayload.bind(self, { method: 'eth_getTransactionCount', params: [address, 'pending'] })\n  }\n\n  if (txParams.gas === undefined) {\n    // console.log(\"need to get gas\")\n    tasks.gas = self.estimateGas.bind(self, cloneTxParams(txParams))\n  }\n\n  parallel(tasks, function(err, taskResults) {\n    if (err) return cb(err)\n\n    const result = {}\n    if (taskResults.gasPrice) result.gasPrice = taskResults.gasPrice\n    if (taskResults.nonce) result.nonce = taskResults.nonce.result\n    if (taskResults.gas) result.gas = taskResults.gas\n\n    cb(null, extend(txParams, result))\n  })\n}\n\n// util\n\n// we use this to clean any custom params from the txParams\nfunction cloneTxParams(txParams){\n  return {\n    from: txParams.from,\n    to: txParams.to,\n    value: txParams.value,\n    data: txParams.data,\n    gas: txParams.gas,\n    gasPrice: txParams.gasPrice,\n    nonce: txParams.nonce,\n  }\n}\n\nfunction toLowerCase(string){\n  return string.toLowerCase()\n}\n\nfunction resemblesAddress (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValid = ethUtil.isValidAddress(fixed)\n  return isValid\n}\n\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValidAddress = ethUtil.isValidAddress(fixed)\n  return !isValidAddress && isValidHex(string)\n}\n\nfunction isValidHex(data) {\n  const isString = typeof data === 'string'\n  if (!isString) return false\n  const isHexPrefixed = data.slice(0,2) === '0x'\n  if (!isHexPrefixed) return false\n  const nonPrefixed = data.slice(2)\n  const isValid = nonPrefixed.match(hexRegex)\n  return isValid\n}\n\nfunction mustProvideInConstructor(methodName) {\n  return function(params, cb) {\n    cb(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + methodName + '\" fn in constructor options'))\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createSubscriptionManager = require('eth-json-rpc-filters/subscriptionManager')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      const { events, middleware } = createSubscriptionManager({ blockTracker, provider })\n      // forward subscription events on the engine\n      events.on('notification', (data) => engine.emit('data', null, data))\n      // return the subscription install/remove middleware\n      return middleware\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createFilterMiddleware = require('eth-json-rpc-filters')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      return createFilterMiddleware({ blockTracker, provider })\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n"],"sourceRoot":""}